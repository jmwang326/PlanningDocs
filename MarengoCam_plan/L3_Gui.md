# Level 3 - GUI & Presentation Layer

## 1. Purpose
This document defines the tactical plan for the **Presentation Layer (GUI)**. It describes the overall UI strategy, the key applications, and the user interactions required to manage and review the MarengoCam system.

## 2. UI Strategy & Philosophy

The UI strategy is to build **separate, simple applications per phase** rather than a single monolithic dashboard. This allows for focused development and progressive refinement as the backend system matures.

- **Separation of Concerns**: Each UI serves a distinct purpose (e.g., configuration, review, health monitoring).
- **Technology Choices**:
    - **Web UIs**: Simple web applications (e.g., using Flask/FastAPI) for primary review and management tasks.
    - **Desktop Tools**: `tkinter`-based apps for low-level debugging and initial setup where rapid iteration is needed.
    - **CLI Tools**: Command-line interfaces for administrative tasks, health checks, and automation.

## 3. Key UI Components

**[TODO: Link to detailed UI component specifications once created.]**

### 3.1. Merge Decision Queue (Web UI)

This is the most critical UI for human-in-the-loop training and identity management.

#### Core Workflow
1.  **Presentation**: The UI presents a queue of merge candidates, displaying the `2x6_comparison` panels (generated by the `PanelAssemblyService`) side-by-side for the two tracks in question.
2.  **Evidence Summary**: Key data points like `Î”t`, face match confidence, and clothing similarity are displayed to aid the user's decision.
3.  **Identity Assignment**: The UI's primary function is to assign a persistent identity to a track. It features an **Identity Picker** with the following characteristics to prevent the creation of duplicate identities:
    - **Autocomplete Search**: As the user types a name, the system searches for existing identities.
    - **Fuzzy Match Warnings**: To prevent duplicates, the system will detect close matches. For example, if a user types "Jon Doe" when "John Doe" already exists, the UI will prompt, "Did you mean John Doe?".
    - **New Identity Creation**: A clear option to create a new identity if no match is found.
4.  **User Actions**: The user can then choose one of three actions for a given merge candidate:
    - **`Accept & Name`**: Confirms the merge and links both tracks to the selected identity.
    - **`Reject`**: Marks the merge as incorrect, providing a negative training example.
    - **`Defer`**: Skips the decision, leaving the candidate in the queue.

### 3.2. Future UI Components

The following applications are planned for later phases of the project:

-   **Face Library Manager (Web UI)**: An interface for administrators to review, manage, and correct the face recognition library used by CodeProject.AI.
-   **Event Timeline Viewer (Web UI)**: The main user-facing application for browsing, filtering, and replaying completed, stitched event timelines.
-   **CLI Health Monitor (Terminal)**: A command-line interface for developers and administrators to check system health, manage configuration, and perform diagnostic tasks.
-   **Debug/Setup Tools (Desktop)**: Simple `tkinter`-based desktop applications for initial setup, camera grid visualization, and low-level debugging.
